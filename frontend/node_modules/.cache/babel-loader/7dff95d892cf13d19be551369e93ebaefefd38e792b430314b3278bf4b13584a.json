{"ast":null,"code":"import { ref, onMounted } from 'vue';\nexport default {\n  __name: 'GeoTiffTest',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const error = ref('');\n    onMounted(async () => {\n      try {\n        if (!window.GeoTIFF) {\n          error.value = 'GeoTIFF 脚本未加载';\n          return;\n        }\n        // 这里假设 public 目录下有 test.tif 文件\n        const tiff = await window.GeoTIFF.fromUrl('/test.tif');\n        const image = await tiff.getImage();\n        const data = await image.readRasters();\n        console.log('GeoTIFF 数据:', data);\n      } catch (e) {\n        error.value = 'GeoTIFF 解析失败: ' + e.message;\n        console.error(e);\n      }\n    });\n    const __returned__ = {\n      error,\n      ref,\n      onMounted\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","onMounted","error","window","GeoTIFF","value","tiff","fromUrl","image","getImage","data","readRasters","console","log","e","message"],"sources":["D:/restore/water-melt/frontend/src/components/GeoTiffTest.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <h3>GeoTIFF 测试</h3>\r\n    <p v-if=\"error\" style=\"color:red\">{{ error }}</p>\r\n    <p v-else>请打开控制台查看 GeoTIFF 解析结果。</p>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted } from 'vue';\r\nconst error = ref('');\r\n\r\nonMounted(async () => {\r\n  try {\r\n    if (!window.GeoTIFF) {\r\n      error.value = 'GeoTIFF 脚本未加载';\r\n      return;\r\n    }\r\n    // 这里假设 public 目录下有 test.tif 文件\r\n    const tiff = await window.GeoTIFF.fromUrl('/test.tif');\r\n    const image = await tiff.getImage();\r\n    const data = await image.readRasters();\r\n    console.log('GeoTIFF 数据:', data);\r\n  } catch (e) {\r\n    error.value = 'GeoTIFF 解析失败: ' + e.message;\r\n    console.error(e);\r\n  }\r\n});\r\n</script> "],"mappings":"AASA,SAASA,GAAG,EAAEC,SAAS,QAAQ,KAAK;;;;;;;IACpC,MAAMC,KAAK,GAAGF,GAAG,CAAC,EAAE,CAAC;IAErBC,SAAS,CAAC,YAAY;MACpB,IAAI;QACF,IAAI,CAACE,MAAM,CAACC,OAAO,EAAE;UACnBF,KAAK,CAACG,KAAK,GAAG,eAAe;UAC7B;QACF;QACA;QACA,MAAMC,IAAI,GAAG,MAAMH,MAAM,CAACC,OAAO,CAACG,OAAO,CAAC,WAAW,CAAC;QACtD,MAAMC,KAAK,GAAG,MAAMF,IAAI,CAACG,QAAQ,CAAC,CAAC;QACnC,MAAMC,IAAI,GAAG,MAAMF,KAAK,CAACG,WAAW,CAAC,CAAC;QACtCC,OAAO,CAACC,GAAG,CAAC,aAAa,EAAEH,IAAI,CAAC;MAClC,CAAC,CAAC,OAAOI,CAAC,EAAE;QACVZ,KAAK,CAACG,KAAK,GAAG,gBAAgB,GAAGS,CAAC,CAACC,OAAO;QAC1CH,OAAO,CAACV,KAAK,CAACY,CAAC,CAAC;MAClB;IACF,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}