{"ast":null,"code":"import { mapState } from 'vuex';\nimport { throttle } from 'lodash-es';\nexport default {\n  name: 'App',\n  data() {\n    return {\n      isMobile: false\n    };\n  },\n  computed: {\n    ...mapState({\n      cachedViews: state => state.app.cachedViews\n    })\n  },\n  created() {\n    // 初始化移动设备检测\n    this.checkMobile();\n\n    // 监听窗口大小变化\n    window.addEventListener('resize', this.handleResize);\n\n    // 初始化主题\n    const theme = localStorage.getItem('theme') || '';\n    document.documentElement.setAttribute('data-theme', theme);\n  },\n  beforeUnmount() {\n    window.removeEventListener('resize', this.handleResize);\n  },\n  methods: {\n    checkMobile() {\n      this.isMobile = window.innerWidth < 768;\n    },\n    handleResize: throttle(function () {\n      this.checkMobile();\n    }, 200)\n  }\n};","map":{"version":3,"names":["mapState","throttle","name","data","isMobile","computed","cachedViews","state","app","created","checkMobile","window","addEventListener","handleResize","theme","localStorage","getItem","document","documentElement","setAttribute","beforeUnmount","removeEventListener","methods","innerWidth"],"sources":["D:\\restore\\water-melt\\frontend\\src\\App.vue"],"sourcesContent":["<template>\r\n  <div id=\"app\" :class=\"{ 'is-mobile': isMobile }\">\r\n    <router-view v-slot=\"{ Component }\">\r\n      <keep-alive :include=\"cachedViews\">\r\n        <component :is=\"Component\" :key=\"$route.fullPath\" />\r\n      </keep-alive>\r\n    </router-view>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from 'vuex'\r\nimport { throttle } from 'lodash-es'\r\n\r\nexport default {\r\n  name: 'App',\r\n  data() {\r\n    return {\r\n      isMobile: false\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      cachedViews: state => state.app.cachedViews\r\n    })\r\n  },\r\n  created() {\r\n    // 初始化移动设备检测\r\n    this.checkMobile()\r\n    \r\n    // 监听窗口大小变化\r\n    window.addEventListener('resize', this.handleResize)\r\n    \r\n    // 初始化主题\r\n    const theme = localStorage.getItem('theme') || ''\r\n    document.documentElement.setAttribute('data-theme', theme)\r\n  },\r\n  beforeUnmount() {\r\n    window.removeEventListener('resize', this.handleResize)\r\n  },\r\n  methods: {\r\n    checkMobile() {\r\n      this.isMobile = window.innerWidth < 768\r\n    },\r\n    handleResize: throttle(function() {\r\n      this.checkMobile()\r\n    }, 200)\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import '@/styles/variables.scss';\r\n@import '@/styles/global.scss';\r\n@import '@/styles/theme.scss';\r\n\r\n#app {\r\n  height: 100vh;\r\n  overflow: hidden;\r\n\r\n  &.is-mobile {\r\n    .sidebar {\r\n      position: fixed;\r\n      z-index: $zindex-fixed;\r\n      transform: translateX(-100%);\r\n      transition: transform 0.3s ease;\r\n\r\n      &.visible {\r\n        transform: translateX(0);\r\n      }\r\n    }\r\n\r\n    .main-content {\r\n      margin-left: 0;\r\n    }\r\n  }\r\n}\r\n\r\n// 路由过渡动画\r\n.fade-enter-active,\r\n.fade-leave-active {\r\n  transition: opacity 0.3s ease;\r\n}\r\n\r\n.fade-enter-from,\r\n.fade-leave-to {\r\n  opacity: 0;\r\n}\r\n\r\n.slide-fade-enter-active,\r\n.slide-fade-leave-active {\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.slide-fade-enter-from,\r\n.slide-fade-leave-to {\r\n  transform: translateX(10px);\r\n  opacity: 0;\r\n}\r\n</style> "],"mappings":"AAWA,SAASA,QAAO,QAAS,MAAK;AAC9B,SAASC,QAAO,QAAS,WAAU;AAEnC,eAAe;EACbC,IAAI,EAAE,KAAK;EACXC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,QAAQ,EAAE;IACZ;EACF,CAAC;EACDC,QAAQ,EAAE;IACR,GAAGL,QAAQ,CAAC;MACVM,WAAW,EAAEC,KAAI,IAAKA,KAAK,CAACC,GAAG,CAACF;IAClC,CAAC;EACH,CAAC;EACDG,OAAOA,CAAA,EAAG;IACR;IACA,IAAI,CAACC,WAAW,CAAC;;IAEjB;IACAC,MAAM,CAACC,gBAAgB,CAAC,QAAQ,EAAE,IAAI,CAACC,YAAY;;IAEnD;IACA,MAAMC,KAAI,GAAIC,YAAY,CAACC,OAAO,CAAC,OAAO,KAAK,EAAC;IAChDC,QAAQ,CAACC,eAAe,CAACC,YAAY,CAAC,YAAY,EAAEL,KAAK;EAC3D,CAAC;EACDM,aAAaA,CAAA,EAAG;IACdT,MAAM,CAACU,mBAAmB,CAAC,QAAQ,EAAE,IAAI,CAACR,YAAY;EACxD,CAAC;EACDS,OAAO,EAAE;IACPZ,WAAWA,CAAA,EAAG;MACZ,IAAI,CAACN,QAAO,GAAIO,MAAM,CAACY,UAAS,GAAI,GAAE;IACxC,CAAC;IACDV,YAAY,EAAEZ,QAAQ,CAAC,YAAW;MAChC,IAAI,CAACS,WAAW,CAAC;IACnB,CAAC,EAAE,GAAG;EACR;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}