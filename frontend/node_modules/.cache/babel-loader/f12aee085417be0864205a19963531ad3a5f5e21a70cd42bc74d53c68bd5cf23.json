{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, resolveDynamicComponent as _resolveDynamicComponent, openBlock as _openBlock, createBlock as _createBlock, Transition as _Transition, normalizeClass as _normalizeClass, vShow as _vShow, withDirectives as _withDirectives, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"main-layout\"\n};\nconst _hoisted_2 = {\n  class: \"header\"\n};\nconst _hoisted_3 = {\n  class: \"nav-container\"\n};\nconst _hoisted_4 = {\n  class: \"main-container\"\n};\nconst _hoisted_5 = {\n  class: \"content\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_Monitor = _resolveComponent(\"Monitor\");\n  const _component_el_icon = _resolveComponent(\"el-icon\");\n  const _component_el_menu_item = _resolveComponent(\"el-menu-item\");\n  const _component_VideoCamera = _resolveComponent(\"VideoCamera\");\n  const _component_DataLine = _resolveComponent(\"DataLine\");\n  const _component_Warning = _resolveComponent(\"Warning\");\n  const _component_TrendCharts = _resolveComponent(\"TrendCharts\");\n  const _component_el_menu = _resolveComponent(\"el-menu\");\n  const _component_router_view = _resolveComponent(\"router-view\");\n  const _component_ArrowDown = _resolveComponent(\"ArrowDown\");\n  const _component_PhotoTimeline = _resolveComponent(\"PhotoTimeline\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" 顶部导航栏 \"), _createElementVNode(\"div\", _hoisted_2, [_cache[6] || (_cache[6] = _createElementVNode(\"div\", {\n    class: \"header-left\"\n  }, [_createElementVNode(\"div\", {\n    class: \"logo\"\n  }, [_createElementVNode(\"h1\", {\n    class: \"logo-text\"\n  }, \"智能先知\")]), _createElementVNode(\"div\", {\n    class: \"subtitle\"\n  }, \"多变量土湿预测监测系统\")], -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_3, [_createVNode(_component_el_menu, {\n    \"default-active\": $setup.activeMenu,\n    mode: \"horizontal\",\n    class: \"main-menu\",\n    \"background-color\": \"transparent\",\n    \"text-color\": \"rgba(255, 255, 255, 0.85)\",\n    \"active-text-color\": \"#40a9ff\",\n    onSelect: $setup.handleMenuSelect\n  }, {\n    default: _withCtx(() => [_createVNode(_component_el_menu_item, {\n      index: \"/overview\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_icon, null, {\n        default: _withCtx(() => [_createVNode(_component_Monitor)]),\n        _: 1 /* STABLE */\n      }), _cache[1] || (_cache[1] = _createElementVNode(\"span\", null, \"实时监测\", -1 /* CACHED */))]),\n      _: 1 /* STABLE */,\n      __: [1]\n    }), _createVNode(_component_el_menu_item, {\n      index: \"/monitoring\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_icon, null, {\n        default: _withCtx(() => [_createVNode(_component_VideoCamera)]),\n        _: 1 /* STABLE */\n      }), _cache[2] || (_cache[2] = _createElementVNode(\"span\", null, \"智能预测\", -1 /* CACHED */))]),\n      _: 1 /* STABLE */,\n      __: [2]\n    }), _createVNode(_component_el_menu_item, {\n      index: \"/analysis\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_icon, null, {\n        default: _withCtx(() => [_createVNode(_component_DataLine)]),\n        _: 1 /* STABLE */\n      }), _cache[3] || (_cache[3] = _createElementVNode(\"span\", null, \"趋势分析\", -1 /* CACHED */))]),\n      _: 1 /* STABLE */,\n      __: [3]\n    }), _createVNode(_component_el_menu_item, {\n      index: \"/warning-analysis\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_icon, null, {\n        default: _withCtx(() => [_createVNode(_component_Warning)]),\n        _: 1 /* STABLE */\n      }), _cache[4] || (_cache[4] = _createElementVNode(\"span\", null, \"预警分析\", -1 /* CACHED */))]),\n      _: 1 /* STABLE */,\n      __: [4]\n    }), _createVNode(_component_el_menu_item, {\n      index: \"/evaluation\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_icon, null, {\n        default: _withCtx(() => [_createVNode(_component_TrendCharts)]),\n        _: 1 /* STABLE */\n      }), _cache[5] || (_cache[5] = _createElementVNode(\"span\", null, \"预警评估\", -1 /* CACHED */))]),\n      _: 1 /* STABLE */,\n      __: [5]\n    })]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"default-active\", \"onSelect\"])])]), _createCommentVNode(\" 主内容区 \"), _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_createVNode(_component_router_view, null, {\n    default: _withCtx(({\n      Component\n    }) => [_createVNode(_Transition, {\n      name: \"fade\",\n      mode: \"out-in\"\n    }, {\n      default: _withCtx(() => [(_openBlock(), _createBlock(_resolveDynamicComponent(Component)))]),\n      _: 2 /* DYNAMIC */\n    }, 1024 /* DYNAMIC_SLOTS */)]),\n    _: 1 /* STABLE */\n  })]), _createCommentVNode(\" 图片时间轴 \"), _createElementVNode(\"div\", {\n    class: _normalizeClass([\"timeline-container\", {\n      'timeline-collapsed': $setup.isTimelineCollapsed\n    }])\n  }, [_createElementVNode(\"div\", {\n    class: \"timeline-toggle\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $setup.toggleTimeline && $setup.toggleTimeline(...args))\n  }, [_createVNode(_component_el_icon, {\n    class: _normalizeClass({\n      'is-rotate': !$setup.isTimelineCollapsed\n    })\n  }, {\n    default: _withCtx(() => [_createVNode(_component_ArrowDown)]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"class\"])]), _withDirectives(_createVNode(_component_PhotoTimeline, null, null, 512 /* NEED_PATCH */), [[_vShow, !$setup.isTimelineCollapsed]])], 2 /* CLASS */)])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createCommentVNode","_createElementVNode","_hoisted_2","_hoisted_3","_createVNode","_component_el_menu","$setup","activeMenu","mode","onSelect","handleMenuSelect","_component_el_menu_item","index","_component_el_icon","_component_Monitor","_component_VideoCamera","_component_DataLine","_component_Warning","_component_TrendCharts","_hoisted_4","_hoisted_5","_component_router_view","Component","_Transition","name","_createBlock","_resolveDynamicComponent","_normalizeClass","isTimelineCollapsed","onClick","_cache","args","toggleTimeline","_component_ArrowDown","_component_PhotoTimeline"],"sources":["D:\\restore\\water-melt\\frontend\\src\\layouts\\MainLayout.vue"],"sourcesContent":["<!-- 主布局组件 -->\n<template>\n  <div class=\"main-layout\">\n    <!-- 顶部导航栏 -->\n    <div class=\"header\">\n      <div class=\"header-left\">\n        <div class=\"logo\">\n          <h1 class=\"logo-text\">智能先知</h1>\n        </div>\n        <div class=\"subtitle\">多变量土湿预测监测系统</div>\n      </div>\n      <div class=\"nav-container\">\n        <el-menu\n          :default-active=\"activeMenu\"\n          mode=\"horizontal\"\n          class=\"main-menu\"\n          background-color=\"transparent\"\n          text-color=\"rgba(255, 255, 255, 0.85)\"\n          active-text-color=\"#40a9ff\"\n          @select=\"handleMenuSelect\"\n        >\n          <el-menu-item index=\"/overview\">\n            <el-icon><Monitor /></el-icon>\n            <span>实时监测</span>\n          </el-menu-item>\n          <el-menu-item index=\"/monitoring\">\n            <el-icon><VideoCamera /></el-icon>\n            <span>智能预测</span>\n          </el-menu-item>\n          <el-menu-item index=\"/analysis\">\n            <el-icon><DataLine /></el-icon>\n            <span>趋势分析</span>\n          </el-menu-item>\n          <el-menu-item index=\"/warning-analysis\">\n            <el-icon><Warning /></el-icon>\n            <span>预警分析</span>\n          </el-menu-item>\n          <el-menu-item index=\"/evaluation\">\n            <el-icon><TrendCharts /></el-icon>\n            <span>预警评估</span>\n          </el-menu-item>\n        </el-menu>\n      </div>\n    </div>\n\n    <!-- 主内容区 -->\n    <div class=\"main-container\">\n      <div class=\"content\">\n        <router-view v-slot=\"{ Component }\">\n          <transition name=\"fade\" mode=\"out-in\">\n            <component :is=\"Component\" />\n          </transition>\n        </router-view>\n      </div>\n      <!-- 图片时间轴 -->\n      <div class=\"timeline-container\" :class=\"{ 'timeline-collapsed': isTimelineCollapsed }\">\n        <div class=\"timeline-toggle\" @click=\"toggleTimeline\">\n          <el-icon :class=\"{ 'is-rotate': !isTimelineCollapsed }\"><ArrowDown /></el-icon>\n        </div>\n        <PhotoTimeline v-show=\"!isTimelineCollapsed\" />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, computed } from 'vue'\nimport { useRouter, useRoute } from 'vue-router'\nimport { useStore } from 'vuex'\nimport {\n  Monitor,\n  VideoCamera,\n  DataLine,\n  Warning,\n  TrendCharts,\n  User,\n  Setting,\n  SwitchButton,\n  CaretBottom,\n  More,\n  ArrowDown\n} from '@element-plus/icons-vue'\nimport PhotoTimeline from '@/assets/water/1.vue'\n\nexport default {\n  name: 'MainLayout',\n  components: {\n    Monitor,\n    VideoCamera,\n    DataLine,\n    Warning,\n    TrendCharts,\n    User,\n    Setting,\n    SwitchButton,\n    CaretBottom,\n    More,\n    ArrowDown,\n    PhotoTimeline\n  },\n  setup() {\n    const router = useRouter()\n    const route = useRoute()\n    const store = useStore()\n\n    const userAvatar = ref('https://avatars.githubusercontent.com/u/1?v=4')\n    const username = ref('Admin')\n    const isTimelineCollapsed = ref(false)\n\n    const activeMenu = computed(() => route.path)\n    const currentRoute = computed(() => {\n      const routeMap = {\n        '/overview': '实时监测',\n        '/monitoring': '智能预测',\n        '/analysis': '趋势分析',\n        '/warning-analysis': '预警分析',\n        '/evaluation': '预警评估'\n      }\n      return routeMap[route.path] || '未知页面'\n    })\n\n    const handleMenuSelect = (index) => {\n      router.push(index)\n    }\n\n    const goToProfile = () => {\n      router.push('/profile')\n    }\n\n    const goToSettings = () => {\n      router.push('/settings')\n    }\n\n    const handleLogout = async () => {\n      try {\n        await store.dispatch('auth/logout')\n        router.push('/login')\n      } catch (error) {\n        console.error('Logout failed:', error)\n      }\n    }\n\n    const toggleTimeline = () => {\n      isTimelineCollapsed.value = !isTimelineCollapsed.value\n    }\n\n    return {\n      userAvatar,\n      username,\n      activeMenu,\n      currentRoute,\n      handleMenuSelect,\n      goToProfile,\n      goToSettings,\n      handleLogout,\n      isTimelineCollapsed,\n      toggleTimeline\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '@/styles/variables.scss';\n\n.main-layout {\n  display: flex;\n  flex-direction: column;\n  height: 100vh;\n  background: linear-gradient(180deg, #001529 0%, #002140 100%);\n\n  .header {\n    height: 64px; // Increased height for better visibility\n    background: rgba(0, 21, 41, 0.95);\n    backdrop-filter: blur(10px); // Add blur effect for modern look\n    padding: 0 24px;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    z-index: $zindex-fixed;\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\n\n    .header-left {\n      display: flex;\n      align-items: center;\n      gap: 16px;\n      min-width: 240px;\n\n      .logo {\n        .logo-text {\n          font-size: 22px;\n          font-weight: 600;\n          color: #fff;\n          margin: 0;\n          letter-spacing: 0.5px;\n          text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n        }\n      }\n\n      .subtitle {\n        font-size: 14px;\n        color: rgba(255, 255, 255, 0.75);\n        font-weight: 500;\n        letter-spacing: 0.3px;\n      }\n    }\n\n    .nav-container {\n      flex: 1;\n      display: flex;\n      justify-content: center;\n\n      .main-menu {\n        border: none;\n        display: flex;\n        background: transparent;\n        justify-content: center;\n        gap: 4px; // Add gap between menu items\n\n        :deep(.el-menu-item) {\n          height: 64px;\n          line-height: 64px;\n          padding: 0 24px;\n          font-size: 15px;\n          color: rgba(255, 255, 255, 0.85);\n          border-bottom: 3px solid transparent;\n          transition: all 0.3s cubic-bezier(0.645, 0.045, 0.355, 1);\n          border-radius: 4px 4px 0 0;\n          margin: 0 2px;\n\n          &.is-active {\n            color: #40a9ff;\n            background: rgba(24, 144, 255, 0.15);\n            border-bottom-color: #40a9ff;\n            font-weight: 500;\n\n            .el-icon {\n              color: #40a9ff;\n              transform: scale(1.1);\n            }\n          }\n\n          &:hover {\n            color: #40a9ff;\n            background: rgba(24, 144, 255, 0.1);\n\n            .el-icon {\n              color: #40a9ff;\n              transform: translateY(-2px);\n            }\n          }\n\n          .el-icon {\n            margin-right: 8px;\n            font-size: 18px;\n            color: rgba(255, 255, 255, 0.85);\n            transition: all 0.3s;\n          }\n\n          &:last-child {\n            padding: 0 16px;\n            margin-left: 8px;\n            background: rgba(255, 255, 255, 0.04);\n            border-radius: 4px;\n            height: 40px;\n            line-height: 40px;\n            margin-top: 12px;\n\n            &:hover {\n              background: rgba(255, 255, 255, 0.08);\n            }\n\n            .el-icon {\n              margin-right: 0;\n            }\n          }\n        }\n      }\n    }\n  }\n\n  .main-container {\n    flex: 1;\n    margin-top: 56px;\n    background: #001529;\n    position: relative;\n    display: flex;\n    flex-direction: column;\n\n    .content {\n      flex: 1;\n      padding: 24px;\n      overflow-y: auto;\n\n      &::-webkit-scrollbar {\n        width: 6px;\n      }\n\n      &::-webkit-scrollbar-thumb {\n        background: rgba(255, 255, 255, 0.2);\n        border-radius: 3px;\n\n        &:hover {\n          background: rgba(255, 255, 255, 0.3);\n        }\n      }\n\n      &::-webkit-scrollbar-track {\n        background: transparent;\n      }\n    }\n\n    .timeline-container {\n      position: relative;\n      background: rgba(0, 21, 41, 0.95);\n      border-top: 1px solid rgba(255, 255, 255, 0.1);\n      transition: all 0.3s cubic-bezier(0.645, 0.045, 0.355, 1);\n      height: 300px;\n\n      &.timeline-collapsed {\n        height: 24px;\n      }\n\n      .timeline-toggle {\n        position: absolute;\n        top: -24px;\n        left: 50%;\n        transform: translateX(-50%);\n        width: 48px;\n        height: 24px;\n        background: rgba(0, 21, 41, 0.95);\n        border-radius: 4px 4px 0 0;\n        border: 1px solid rgba(255, 255, 255, 0.1);\n        border-bottom: none;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        cursor: pointer;\n        color: rgba(255, 255, 255, 0.65);\n        transition: all 0.3s;\n\n        &:hover {\n          color: #40a9ff;\n        }\n\n        .el-icon {\n          font-size: 16px;\n          transition: transform 0.3s;\n\n          &.is-rotate {\n            transform: rotate(180deg);\n          }\n        }\n      }\n    }\n  }\n}\n\n@keyframes rotate {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n</style> "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}