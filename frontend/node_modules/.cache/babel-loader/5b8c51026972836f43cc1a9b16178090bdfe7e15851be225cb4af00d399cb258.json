{"ast":null,"code":"import { createApp } from 'vue';\nimport App from './App.vue';\nimport router from './router';\nimport store from './store';\nimport ElementPlus from 'element-plus';\nimport 'element-plus/dist/index.css';\nimport './styles/global.scss';\nimport './styles/theme.scss';\n\n// 创建应用实例\nconst app = createApp(App);\n\n// 注册全局组件\nimport BaseChart from '@/components/BaseChart.vue';\nimport BasePanel from '@/components/BasePanel.vue';\nimport BaseTable from '@/components/BaseTable.vue';\nimport StatCard from '@/components/StatCard.vue';\napp.component('BaseChart', BaseChart);\napp.component('BasePanel', BasePanel);\napp.component('BaseTable', BaseTable);\napp.component('StatCard', StatCard);\n\n// 注册全局指令\napp.directive('loading', {\n  mounted(el, binding) {\n    const loadingContainer = document.createElement('div');\n    loadingContainer.className = 'loading-container';\n    loadingContainer.innerHTML = `\n      <div class=\"loading-spinner\"></div>\n      <div class=\"loading-text\">${binding.value?.text || '加载中...'}</div>\n    `;\n    el.style.position = 'relative';\n    el.appendChild(loadingContainer);\n\n    // 更新loading状态\n    if (!binding.value || typeof binding.value === 'object' && !binding.value.show) {\n      loadingContainer.style.display = 'none';\n    }\n  },\n  updated(el, binding) {\n    const loadingContainer = el.querySelector('.loading-container');\n    if (loadingContainer) {\n      loadingContainer.style.display = !binding.value || typeof binding.value === 'object' && !binding.value.show ? 'none' : '';\n      const loadingText = loadingContainer.querySelector('.loading-text');\n      if (loadingText && binding.value?.text) {\n        loadingText.textContent = binding.value.text;\n      }\n    }\n  }\n});\n\n// 注册全局过滤器\napp.config.globalProperties.$filters = {\n  // 日期格式化\n  formatDate(value, format = 'YYYY-MM-DD HH:mm:ss') {\n    if (!value) return '';\n    const date = new Date(value);\n    const year = date.getFullYear();\n    const month = String(date.getMonth() + 1).padStart(2, '0');\n    const day = String(date.getDate()).padStart(2, '0');\n    const hours = String(date.getHours()).padStart(2, '0');\n    const minutes = String(date.getMinutes()).padStart(2, '0');\n    const seconds = String(date.getSeconds()).padStart(2, '0');\n    return format.replace('YYYY', year).replace('MM', month).replace('DD', day).replace('HH', hours).replace('mm', minutes).replace('ss', seconds);\n  },\n  // 数字格式化\n  formatNumber(value, decimals = 2) {\n    if (!value && value !== 0) return '';\n    return Number(value).toFixed(decimals);\n  },\n  // 文件大小格式化\n  formatFileSize(bytes) {\n    if (!bytes && bytes !== 0) return '';\n    const units = ['B', 'KB', 'MB', 'GB', 'TB'];\n    let size = bytes;\n    let unitIndex = 0;\n    while (size >= 1024 && unitIndex < units.length - 1) {\n      size /= 1024;\n      unitIndex++;\n    }\n    return `${size.toFixed(2)} ${units[unitIndex]}`;\n  }\n};\n\n// 注册全局属性\napp.config.globalProperties.$theme = {\n  // 切换主题\n  toggle(theme = '') {\n    const root = document.documentElement;\n    const currentTheme = root.getAttribute('data-theme') || '';\n    const newTheme = theme || (currentTheme === 'dark' ? '' : 'dark');\n    root.setAttribute('data-theme', newTheme);\n    localStorage.setItem('theme', newTheme);\n    return newTheme;\n  },\n  // 获取当前主题\n  get() {\n    return document.documentElement.getAttribute('data-theme') || '';\n  }\n};\n\n// 初始化主题\nconst savedTheme = localStorage.getItem('theme');\nif (savedTheme) {\n  document.documentElement.setAttribute('data-theme', savedTheme);\n}\n\n// 使用插件\napp.use(router);\napp.use(store);\napp.use(ElementPlus);\n\n// 挂载应用\napp.mount('#app');","map":{"version":3,"names":["createApp","App","router","store","ElementPlus","app","BaseChart","BasePanel","BaseTable","StatCard","component","directive","mounted","el","binding","loadingContainer","document","createElement","className","innerHTML","value","text","style","position","appendChild","show","display","updated","querySelector","loadingText","textContent","config","globalProperties","$filters","formatDate","format","date","Date","year","getFullYear","month","String","getMonth","padStart","day","getDate","hours","getHours","minutes","getMinutes","seconds","getSeconds","replace","formatNumber","decimals","Number","toFixed","formatFileSize","bytes","units","size","unitIndex","length","$theme","toggle","theme","root","documentElement","currentTheme","getAttribute","newTheme","setAttribute","localStorage","setItem","get","savedTheme","getItem","use","mount"],"sources":["D:/restore/water-melt/frontend/src/main.js"],"sourcesContent":["import { createApp } from 'vue'\r\nimport App from './App.vue'\r\nimport router from './router'\r\nimport store from './store'\r\nimport ElementPlus from 'element-plus'\r\nimport 'element-plus/dist/index.css'\r\nimport './styles/global.scss'\r\nimport './styles/theme.scss'\r\n\r\n// 创建应用实例\r\nconst app = createApp(App)\r\n\r\n// 注册全局组件\r\nimport BaseChart from '@/components/BaseChart.vue'\r\nimport BasePanel from '@/components/BasePanel.vue'\r\nimport BaseTable from '@/components/BaseTable.vue'\r\nimport StatCard from '@/components/StatCard.vue'\r\n\r\napp.component('BaseChart', BaseChart)\r\napp.component('BasePanel', BasePanel)\r\napp.component('BaseTable', BaseTable)\r\napp.component('StatCard', StatCard)\r\n\r\n// 注册全局指令\r\napp.directive('loading', {\r\n  mounted(el, binding) {\r\n    const loadingContainer = document.createElement('div')\r\n    loadingContainer.className = 'loading-container'\r\n    loadingContainer.innerHTML = `\r\n      <div class=\"loading-spinner\"></div>\r\n      <div class=\"loading-text\">${binding.value?.text || '加载中...'}</div>\r\n    `\r\n    el.style.position = 'relative'\r\n    el.appendChild(loadingContainer)\r\n\r\n    // 更新loading状态\r\n    if (!binding.value || (typeof binding.value === 'object' && !binding.value.show)) {\r\n      loadingContainer.style.display = 'none'\r\n    }\r\n  },\r\n  updated(el, binding) {\r\n    const loadingContainer = el.querySelector('.loading-container')\r\n    if (loadingContainer) {\r\n      loadingContainer.style.display = (!binding.value || (typeof binding.value === 'object' && !binding.value.show)) ? 'none' : ''\r\n      const loadingText = loadingContainer.querySelector('.loading-text')\r\n      if (loadingText && binding.value?.text) {\r\n        loadingText.textContent = binding.value.text\r\n      }\r\n    }\r\n  }\r\n})\r\n\r\n// 注册全局过滤器\r\napp.config.globalProperties.$filters = {\r\n  // 日期格式化\r\n  formatDate(value, format = 'YYYY-MM-DD HH:mm:ss') {\r\n    if (!value) return ''\r\n    const date = new Date(value)\r\n    const year = date.getFullYear()\r\n    const month = String(date.getMonth() + 1).padStart(2, '0')\r\n    const day = String(date.getDate()).padStart(2, '0')\r\n    const hours = String(date.getHours()).padStart(2, '0')\r\n    const minutes = String(date.getMinutes()).padStart(2, '0')\r\n    const seconds = String(date.getSeconds()).padStart(2, '0')\r\n\r\n    return format\r\n      .replace('YYYY', year)\r\n      .replace('MM', month)\r\n      .replace('DD', day)\r\n      .replace('HH', hours)\r\n      .replace('mm', minutes)\r\n      .replace('ss', seconds)\r\n  },\r\n\r\n  // 数字格式化\r\n  formatNumber(value, decimals = 2) {\r\n    if (!value && value !== 0) return ''\r\n    return Number(value).toFixed(decimals)\r\n  },\r\n\r\n  // 文件大小格式化\r\n  formatFileSize(bytes) {\r\n    if (!bytes && bytes !== 0) return ''\r\n    const units = ['B', 'KB', 'MB', 'GB', 'TB']\r\n    let size = bytes\r\n    let unitIndex = 0\r\n    while (size >= 1024 && unitIndex < units.length - 1) {\r\n      size /= 1024\r\n      unitIndex++\r\n    }\r\n    return `${size.toFixed(2)} ${units[unitIndex]}`\r\n  }\r\n}\r\n\r\n// 注册全局属性\r\napp.config.globalProperties.$theme = {\r\n  // 切换主题\r\n  toggle(theme = '') {\r\n    const root = document.documentElement\r\n    const currentTheme = root.getAttribute('data-theme') || ''\r\n    const newTheme = theme || (currentTheme === 'dark' ? '' : 'dark')\r\n    root.setAttribute('data-theme', newTheme)\r\n    localStorage.setItem('theme', newTheme)\r\n    return newTheme\r\n  },\r\n\r\n  // 获取当前主题\r\n  get() {\r\n    return document.documentElement.getAttribute('data-theme') || ''\r\n  }\r\n}\r\n\r\n// 初始化主题\r\nconst savedTheme = localStorage.getItem('theme')\r\nif (savedTheme) {\r\n  document.documentElement.setAttribute('data-theme', savedTheme)\r\n}\r\n\r\n// 使用插件\r\napp.use(router)\r\napp.use(store)\r\napp.use(ElementPlus)\r\n\r\n// 挂载应用\r\napp.mount('#app') "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}