{"ast":null,"code":"const state = {\n  sidebar: {\n    opened: true,\n    withoutAnimation: false\n  },\n  device: 'desktop',\n  size: 'medium',\n  cachedViews: [],\n  // 缓存的视图组件\n  theme: localStorage.getItem('theme') || ''\n};\nconst mutations = {\n  TOGGLE_SIDEBAR: state => {\n    state.sidebar.opened = !state.sidebar.opened;\n    state.sidebar.withoutAnimation = false;\n    if (state.sidebar.opened) {\n      localStorage.setItem('sidebarStatus', 1);\n    } else {\n      localStorage.setItem('sidebarStatus', 0);\n    }\n  },\n  CLOSE_SIDEBAR: (state, withoutAnimation) => {\n    localStorage.setItem('sidebarStatus', 0);\n    state.sidebar.opened = false;\n    state.sidebar.withoutAnimation = withoutAnimation;\n  },\n  TOGGLE_DEVICE: (state, device) => {\n    state.device = device;\n  },\n  SET_SIZE: (state, size) => {\n    state.size = size;\n    localStorage.setItem('size', size);\n  },\n  ADD_CACHED_VIEW: (state, view) => {\n    if (state.cachedViews.includes(view.name)) return;\n    if (view.meta?.keepAlive) {\n      state.cachedViews.push(view.name);\n    }\n  },\n  REMOVE_CACHED_VIEW: (state, view) => {\n    const index = state.cachedViews.indexOf(view.name);\n    index > -1 && state.cachedViews.splice(index, 1);\n  },\n  RESET_CACHED_VIEWS: state => {\n    state.cachedViews = [];\n  },\n  SET_THEME: (state, theme) => {\n    state.theme = theme;\n    localStorage.setItem('theme', theme);\n    document.documentElement.setAttribute('data-theme', theme);\n  }\n};\nconst actions = {\n  toggleSideBar({\n    commit\n  }) {\n    commit('TOGGLE_SIDEBAR');\n  },\n  closeSideBar({\n    commit\n  }, {\n    withoutAnimation\n  }) {\n    commit('CLOSE_SIDEBAR', withoutAnimation);\n  },\n  toggleDevice({\n    commit\n  }, device) {\n    commit('TOGGLE_DEVICE', device);\n  },\n  setSize({\n    commit\n  }, size) {\n    commit('SET_SIZE', size);\n  },\n  addCachedView({\n    commit\n  }, view) {\n    commit('ADD_CACHED_VIEW', view);\n  },\n  removeCachedView({\n    commit\n  }, view) {\n    commit('REMOVE_CACHED_VIEW', view);\n  },\n  resetCachedViews({\n    commit\n  }) {\n    commit('RESET_CACHED_VIEWS');\n  },\n  setTheme({\n    commit\n  }, theme) {\n    commit('SET_THEME', theme);\n  }\n};\nexport default {\n  namespaced: true,\n  state,\n  mutations,\n  actions\n};","map":{"version":3,"names":["state","sidebar","opened","withoutAnimation","device","size","cachedViews","theme","localStorage","getItem","mutations","TOGGLE_SIDEBAR","setItem","CLOSE_SIDEBAR","TOGGLE_DEVICE","SET_SIZE","ADD_CACHED_VIEW","view","includes","name","meta","keepAlive","push","REMOVE_CACHED_VIEW","index","indexOf","splice","RESET_CACHED_VIEWS","SET_THEME","document","documentElement","setAttribute","actions","toggleSideBar","commit","closeSideBar","toggleDevice","setSize","addCachedView","removeCachedView","resetCachedViews","setTheme","namespaced"],"sources":["D:/restore/water-melt/frontend/src/store/modules/app.js"],"sourcesContent":["const state = {\r\n  sidebar: {\r\n    opened: true,\r\n    withoutAnimation: false\r\n  },\r\n  device: 'desktop',\r\n  size: 'medium',\r\n  cachedViews: [], // 缓存的视图组件\r\n  theme: localStorage.getItem('theme') || ''\r\n}\r\n\r\nconst mutations = {\r\n  TOGGLE_SIDEBAR: (state) => {\r\n    state.sidebar.opened = !state.sidebar.opened\r\n    state.sidebar.withoutAnimation = false\r\n    if (state.sidebar.opened) {\r\n      localStorage.setItem('sidebarStatus', 1)\r\n    } else {\r\n      localStorage.setItem('sidebarStatus', 0)\r\n    }\r\n  },\r\n  CLOSE_SIDEBAR: (state, withoutAnimation) => {\r\n    localStorage.setItem('sidebarStatus', 0)\r\n    state.sidebar.opened = false\r\n    state.sidebar.withoutAnimation = withoutAnimation\r\n  },\r\n  TOGGLE_DEVICE: (state, device) => {\r\n    state.device = device\r\n  },\r\n  SET_SIZE: (state, size) => {\r\n    state.size = size\r\n    localStorage.setItem('size', size)\r\n  },\r\n  ADD_CACHED_VIEW: (state, view) => {\r\n    if (state.cachedViews.includes(view.name)) return\r\n    if (view.meta?.keepAlive) {\r\n      state.cachedViews.push(view.name)\r\n    }\r\n  },\r\n  REMOVE_CACHED_VIEW: (state, view) => {\r\n    const index = state.cachedViews.indexOf(view.name)\r\n    index > -1 && state.cachedViews.splice(index, 1)\r\n  },\r\n  RESET_CACHED_VIEWS: (state) => {\r\n    state.cachedViews = []\r\n  },\r\n  SET_THEME: (state, theme) => {\r\n    state.theme = theme\r\n    localStorage.setItem('theme', theme)\r\n    document.documentElement.setAttribute('data-theme', theme)\r\n  }\r\n}\r\n\r\nconst actions = {\r\n  toggleSideBar({ commit }) {\r\n    commit('TOGGLE_SIDEBAR')\r\n  },\r\n  closeSideBar({ commit }, { withoutAnimation }) {\r\n    commit('CLOSE_SIDEBAR', withoutAnimation)\r\n  },\r\n  toggleDevice({ commit }, device) {\r\n    commit('TOGGLE_DEVICE', device)\r\n  },\r\n  setSize({ commit }, size) {\r\n    commit('SET_SIZE', size)\r\n  },\r\n  addCachedView({ commit }, view) {\r\n    commit('ADD_CACHED_VIEW', view)\r\n  },\r\n  removeCachedView({ commit }, view) {\r\n    commit('REMOVE_CACHED_VIEW', view)\r\n  },\r\n  resetCachedViews({ commit }) {\r\n    commit('RESET_CACHED_VIEWS')\r\n  },\r\n  setTheme({ commit }, theme) {\r\n    commit('SET_THEME', theme)\r\n  }\r\n}\r\n\r\nexport default {\r\n  namespaced: true,\r\n  state,\r\n  mutations,\r\n  actions\r\n} "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}