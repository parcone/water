{"ast":null,"code":"import request from '@/utils/request';\nconst state = {\n  token: null,\n  user: null\n};\nconst mutations = {\n  SET_TOKEN(state, token) {\n    state.token = token;\n  },\n  SET_USER(state, user) {\n    state.user = user;\n  },\n  CLEAR_AUTH(state) {\n    state.token = null;\n    state.user = null;\n  }\n};\nconst actions = {\n  async login({\n    commit\n  }, credentials) {\n    try {\n      const {\n        data\n      } = await request.post('/api/auth/login', credentials);\n      commit('SET_TOKEN', data.token);\n      commit('SET_USER', data.user);\n      return data;\n    } catch (error) {\n      throw error;\n    }\n  },\n  async register({\n    commit\n  }, userData) {\n    try {\n      const {\n        data\n      } = await request.post('/api/auth/register', userData);\n      commit('SET_TOKEN', data.token);\n      commit('SET_USER', data.user);\n      return data;\n    } catch (error) {\n      throw error;\n    }\n  },\n  async getUserInfo({\n    commit\n  }) {\n    try {\n      const {\n        data\n      } = await request.get('/auth/user');\n      commit('SET_USER', data);\n      return data;\n    } catch (error) {\n      throw error;\n    }\n  },\n  logout({\n    commit\n  }) {\n    commit('CLEAR_AUTH');\n  }\n};\nconst getters = {\n  isAuthenticated: state => !!state.token,\n  currentUser: state => state.user\n};\nexport default {\n  namespaced: true,\n  state,\n  mutations,\n  actions,\n  getters\n};","map":{"version":3,"names":["request","state","token","user","mutations","SET_TOKEN","SET_USER","CLEAR_AUTH","actions","login","commit","credentials","data","post","error","register","userData","getUserInfo","get","logout","getters","isAuthenticated","currentUser","namespaced"],"sources":["D:/restore/water-melt/frontend/src/store/modules/auth.js"],"sourcesContent":["import request from '@/utils/request'\r\n\r\nconst state = {\r\n  token: null,\r\n  user: null\r\n}\r\n\r\nconst mutations = {\r\n  SET_TOKEN(state, token) {\r\n    state.token = token\r\n  },\r\n  SET_USER(state, user) {\r\n    state.user = user\r\n  },\r\n  CLEAR_AUTH(state) {\r\n    state.token = null\r\n    state.user = null\r\n  }\r\n}\r\n\r\nconst actions = {\r\n  async login({ commit }, credentials) {\r\n    try {\r\n      const { data } = await request.post('/api/auth/login', credentials)\r\n      commit('SET_TOKEN', data.token)\r\n      commit('SET_USER', data.user)\r\n      return data\r\n    } catch (error) {\r\n      throw error\r\n    }\r\n  },\r\n\r\n  async register({ commit }, userData) {\r\n    try {\r\n      const { data } = await request.post('/api/auth/register', userData)\r\n      commit('SET_TOKEN', data.token)\r\n      commit('SET_USER', data.user)\r\n      return data\r\n    } catch (error) {\r\n      throw error\r\n    }\r\n  },\r\n\r\n  async getUserInfo({ commit }) {\r\n    try {\r\n      const { data } = await request.get('/auth/user')\r\n      commit('SET_USER', data)\r\n      return data\r\n    } catch (error) {\r\n      throw error\r\n    }\r\n  },\r\n\r\n  logout({ commit }) {\r\n    commit('CLEAR_AUTH')\r\n  }\r\n}\r\n\r\nconst getters = {\r\n  isAuthenticated: state => !!state.token,\r\n  currentUser: state => state.user\r\n}\r\n\r\nexport default {\r\n  namespaced: true,\r\n  state,\r\n  mutations,\r\n  actions,\r\n  getters\r\n} "],"mappings":"AAAA,OAAOA,OAAO,MAAM,iBAAiB;AAErC,MAAMC,KAAK,GAAG;EACZC,KAAK,EAAE,IAAI;EACXC,IAAI,EAAE;AACR,CAAC;AAED,MAAMC,SAAS,GAAG;EAChBC,SAASA,CAACJ,KAAK,EAAEC,KAAK,EAAE;IACtBD,KAAK,CAACC,KAAK,GAAGA,KAAK;EACrB,CAAC;EACDI,QAAQA,CAACL,KAAK,EAAEE,IAAI,EAAE;IACpBF,KAAK,CAACE,IAAI,GAAGA,IAAI;EACnB,CAAC;EACDI,UAAUA,CAACN,KAAK,EAAE;IAChBA,KAAK,CAACC,KAAK,GAAG,IAAI;IAClBD,KAAK,CAACE,IAAI,GAAG,IAAI;EACnB;AACF,CAAC;AAED,MAAMK,OAAO,GAAG;EACd,MAAMC,KAAKA,CAAC;IAAEC;EAAO,CAAC,EAAEC,WAAW,EAAE;IACnC,IAAI;MACF,MAAM;QAAEC;MAAK,CAAC,GAAG,MAAMZ,OAAO,CAACa,IAAI,CAAC,iBAAiB,EAAEF,WAAW,CAAC;MACnED,MAAM,CAAC,WAAW,EAAEE,IAAI,CAACV,KAAK,CAAC;MAC/BQ,MAAM,CAAC,UAAU,EAAEE,IAAI,CAACT,IAAI,CAAC;MAC7B,OAAOS,IAAI;IACb,CAAC,CAAC,OAAOE,KAAK,EAAE;MACd,MAAMA,KAAK;IACb;EACF,CAAC;EAED,MAAMC,QAAQA,CAAC;IAAEL;EAAO,CAAC,EAAEM,QAAQ,EAAE;IACnC,IAAI;MACF,MAAM;QAAEJ;MAAK,CAAC,GAAG,MAAMZ,OAAO,CAACa,IAAI,CAAC,oBAAoB,EAAEG,QAAQ,CAAC;MACnEN,MAAM,CAAC,WAAW,EAAEE,IAAI,CAACV,KAAK,CAAC;MAC/BQ,MAAM,CAAC,UAAU,EAAEE,IAAI,CAACT,IAAI,CAAC;MAC7B,OAAOS,IAAI;IACb,CAAC,CAAC,OAAOE,KAAK,EAAE;MACd,MAAMA,KAAK;IACb;EACF,CAAC;EAED,MAAMG,WAAWA,CAAC;IAAEP;EAAO,CAAC,EAAE;IAC5B,IAAI;MACF,MAAM;QAAEE;MAAK,CAAC,GAAG,MAAMZ,OAAO,CAACkB,GAAG,CAAC,YAAY,CAAC;MAChDR,MAAM,CAAC,UAAU,EAAEE,IAAI,CAAC;MACxB,OAAOA,IAAI;IACb,CAAC,CAAC,OAAOE,KAAK,EAAE;MACd,MAAMA,KAAK;IACb;EACF,CAAC;EAEDK,MAAMA,CAAC;IAAET;EAAO,CAAC,EAAE;IACjBA,MAAM,CAAC,YAAY,CAAC;EACtB;AACF,CAAC;AAED,MAAMU,OAAO,GAAG;EACdC,eAAe,EAAEpB,KAAK,IAAI,CAAC,CAACA,KAAK,CAACC,KAAK;EACvCoB,WAAW,EAAErB,KAAK,IAAIA,KAAK,CAACE;AAC9B,CAAC;AAED,eAAe;EACboB,UAAU,EAAE,IAAI;EAChBtB,KAAK;EACLG,SAAS;EACTI,OAAO;EACPY;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}