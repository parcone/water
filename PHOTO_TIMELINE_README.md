# 图片时间轴功能说明

## 功能概述

图片时间轴功能可以动态展示 `frontend/public/libs/photos` 目录下的所有PNG图片，支持时间轴滑动、自动播放、速度控制等功能。

## 功能特性

- 🎯 **自动播放**：支持自动循环播放所有图片
- ⏱️ **速度控制**：可调节播放速度（0.5秒-3秒）
- 🎮 **手动控制**：支持滑块手动选择任意时间点
- 📊 **信息显示**：实时显示当前时间、总图片数等信息
- 📱 **响应式设计**：支持移动端和桌面端

## 使用方法

### 1. 生成图片路径JSON文件

首次使用或图片更新后，需要重新生成图片路径文件：

```bash
# 方法1：使用npm脚本
npm run generate-photos

# 方法2：直接运行Node.js脚本
node scripts/generatePhotosJson.js
```

### 2. 访问时间轴页面

启动前端服务后，访问：`http://localhost:8080/timeline`

或者在导航菜单中点击"图片时间轴"。

### 3. 操作说明

- **播放/暂停**：点击播放按钮开始自动播放，再次点击暂停
- **速度调节**：使用下拉菜单选择播放速度
- **手动选择**：拖动滑块选择任意时间点的图片
- **重置**：点击重置按钮回到第一张图片

## 文件结构

```
frontend/
├── public/
│   ├── libs/photos/          # 图片存储目录
│   │   └── photos1/
│   │       ├── 2025/
│   │       ├── 2026/
│   │       └── ...
│   └── photos.json          # 自动生成的图片路径文件
├── src/
│   ├── components/
│   │   └── PhotoTimeline.vue    # 时间轴组件
│   └── views/
│       └── PhotoTimelinePage.vue # 时间轴页面
└── scripts/
    └── generatePhotosJson.js    # 图片路径生成脚本
```

## 图片命名规范

系统会自动从图片文件名中提取日期信息，建议使用以下命名格式：

- `SSM_YYYYMMDD.png` - 例如：`SSM_20250201.png`
- 系统会自动解析为：`2025-02-01`

## 技术实现

### 前端技术栈
- Vue 3
- 原生JavaScript
- CSS3动画和过渡效果

### 核心功能
1. **图片扫描**：Node.js脚本递归扫描photos目录
2. **数据加载**：前端fetch加载photos.json文件
3. **时间轴控制**：使用HTML5 range input实现滑块控制
4. **自动播放**：setInterval实现定时切换图片
5. **响应式设计**：CSS Grid和Flexbox实现自适应布局

## 注意事项

1. **图片格式**：目前只支持PNG格式图片
2. **文件大小**：建议图片大小适中，避免影响加载速度
3. **路径更新**：添加新图片后需要重新运行生成脚本
4. **浏览器兼容**：支持现代浏览器，建议使用Chrome、Firefox、Safari等

## 故障排除

### 问题1：图片无法加载
- 检查图片文件是否存在
- 确认photos.json文件是否正确生成
- 检查浏览器控制台是否有错误信息

### 问题2：时间轴不显示
- 确认photos.json文件不为空
- 检查图片路径是否正确
- 查看浏览器网络请求是否成功

### 问题3：自动播放不工作
- 检查JavaScript控制台是否有错误
- 确认图片数量大于0
- 检查播放速度设置是否正确

## 扩展功能

如需添加更多功能，可以考虑：

1. **图片预加载**：提前加载下一张图片
2. **缩略图预览**：显示时间轴上的缩略图
3. **图片放大**：点击图片放大查看
4. **导出功能**：导出当前时间轴的图片序列
5. **自定义主题**：支持多种UI主题切换 